id: "alignment-qc"
description: "Alignment quality control (QC) parameters. It computes: stats, flag stats, fastqc and hybrid-selection metrics. The BAM file is mandatory ever but the BED file and the dictionary files are only mandatory for computing hybrid-selection (HS) metrics. In order to skip some metrics, use the following keywords (separated by commas): stats, flagstats, fastqc and hsmetrics"
version: 1
config:
  retry: 2
  timeout: 3600
jobs:
  alignment-stats:
    description: ${PIPELINE.description}
    #    output:
    #      - id: BAM
    #        value: $OUTDIR/alignment.bam
    params:
      file: ${EXECUTION.params.bamFile}
  alignment-flagstats:
    params:
      #      file2: $JOB.alignment-stats.OUTPUT.BAM
      #      file3: FILE:BAM
      file4: ${EXECUTION/alignment-stats/mememe/a/a/a/a/alignment.bam}
      file: ${EXECUTION.params.bamFile}
  alignment-fastqcmetrics:
    params:
      file: ${EXECUTION.params.bamFile}
  alignment-hsmetrics:
    dependsOn:
      - "alignment-stats"
