id: "alignment-qc"
description: "Alignment quality control (QC) parameters. It computes: stats, flag stats, fastqc and hybrid-selection metrics. The BAM file is mandatory ever but the BED file and the dictionary files are only mandatory for computing hybrid-selection (HS) metrics. In order to skip some metrics, use the following keywords (separated by commas): stats, flagstats, fastqc and hsmetrics"
config:
  retry: 2
  timeout: 3600
params:
  method: "SINGLE"
  file1: /a/b/c/file1.bam
jobs:
  alignment-stats:
    name: ${PIPELINE.id}
    description: ${PIPELINE.description}
    params:
      file: ${EXECUTION.params.bamFile}
      file2: ${PIPELINE.params.file1}
  alignment-flagstats:
    name: ${PIPELINE.id}
    description: ${PIPELINE.description}
    params:
      file: ${EXECUTION.jobs.alignment-stats.outdir.path}/alignment.bam
      method: "${PIPELINE.params.method}-END"
    dependsOn:
      - "alignment-fastqcmetrics"
  alignment-fastqcmetrics:
    name: ${PIPELINE.id}
    description: ${PIPELINE.description}
    params:
      file: ${EXECUTION.params.bamFile}
  alignment-hsmetrics:
    name: ${PIPELINE.id}
    description: ${PIPELINE.description}
    dependsOn:
      - "alignment-stats"
